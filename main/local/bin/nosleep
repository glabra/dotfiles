#!/bin/sh
set -u
set -e
umask 0750
export PATH='/bin:/usr/bin'
export LANG='C'
IFS='   
'

if test -n "${1}"; then
  length=$((${1}))

  systemd-inhibit \
    --mode=block \
    --what=handle-lid-switch:sleep \
    --why="Explicitly blocked for ${length} seconds by ${USER}" \
    sleep ${length} &
fi
