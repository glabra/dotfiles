# set PS1
# callbacks: do not print escape sequence
#   ps1_after_path
#   ps1_after_prompt
export PS1='\w$(execute_callback ps1_after_path)\$ $(execute_callback ps1_after_prompt)'

__after_prompt_retval() {
    printf '\n%d> ' "$EXITCODE"
}
__after_prompt_date() {
    printf '(%s)' "$(date +%H:%M:%S)"
}
register_callback ps1_after_prompt __after_prompt_date 0
register_callback ps1_after_prompt __after_prompt_retval 100
