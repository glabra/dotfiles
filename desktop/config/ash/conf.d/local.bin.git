command -v 'git' >/dev/null || return

# git_ps1
[ -n "${BASH_VERSION:-}" -o -n "${ZSH_VERSION:-}" ] \
	&& [ -f "/usr/share/git/completion/git-prompt.sh" ] \
	&& . "/usr/share/git/completion/git-prompt.sh"

if ! command -v __git_ps1 >/dev/null; then
	__git_ps1() {
		(branch="$(git branch 2>/dev/null | fgrep '* ' | tail -c +3)"
		[ -n "${branch}" ] && printf "$1" "${branch}"
		)
	}
fi

